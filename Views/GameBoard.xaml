<Page
    x:Class="LUDO.Views.GameBoard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:LUDO.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:Interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:Media="using:Microsoft.Xaml.Interactions.Media" 
    xmlns:xaml="using:Microsoft.Graphics.Canvas.UI.Xaml"
    Background="#D9D9D9"
    Width="960"
    Height="720"
    DataContext="{Binding GameBoardViewModelInstance}">

    <Page.Resources>
        <Storyboard x:Name="DiceRollStoryboard">
            <DoubleAnimation
                Storyboard.TargetName="DiceRotateTransform"
                Storyboard.TargetProperty="Angle"
                From="0" To="360" Duration="0:0:2"
                AutoReverse="False" RepeatBehavior="10x"/>
        </Storyboard>
        <Storyboard x:Name="RollDice">
            <DoubleAnimation Duration="00:00:10" Storyboard.TargetName="DiceButton" To="-16.5" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)"/>
            <DoubleAnimation Duration="00:00:10" Storyboard.TargetName="DiceButton" To="1.5" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"/>
        </Storyboard>
    </Page.Resources>

    <Grid Background="#666363">
        <Canvas VerticalAlignment="center" HorizontalAlignment="center" Width="452" Height="426" Background="LightGray">
            <xaml:CanvasControl x:Name="GameBoardCanvas" Width="452" Height="426">
                <xaml:CanvasControl.RenderTransform>
                    <CompositeTransform SkewX="0" TranslateX="0" SkewY="0" TranslateY="0"/>
                </xaml:CanvasControl.RenderTransform>
            </xaml:CanvasControl>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceRed.png" Visibility="{Binding RedPiece1Visibility}" Canvas.Left="{Binding RedPiece1CoordinateX}" Canvas.Top="{Binding RedPiece1CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceGreen.png" Visibility="{Binding GreenPiece1Visibility}" Canvas.Left="{Binding GreenPiece1CoordinateX}" Canvas.Top="{Binding GreenPiece1CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceYellow.png" Visibility="{Binding YellowPiece1Visibility}" Canvas.Left="{Binding YellowPiece1CoordinateX}" Canvas.Top="{Binding YellowPiece1CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceBlue.png" Visibility="{Binding BluePiece1Visibility}" Canvas.Left="{Binding BluePiece1CoordinateX}" Canvas.Top="{Binding BluePiece1CoordinateY}"/>

            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceRed.png" Visibility="{Binding RedPiece2Visibility}" Canvas.Left="{Binding RedPiece2CoordinateX}" Canvas.Top="{Binding RedPiece2CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceGreen.png" Visibility="{Binding GreenPiece2Visibility}" Canvas.Left="{Binding GreenPiece2CoordinateX}" Canvas.Top="{Binding GreenPiece2CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceYellow.png" Visibility="{Binding YellowPiece2Visibility}" Canvas.Left="{Binding YellowPiece2CoordinateX}" Canvas.Top="{Binding YellowPiece2CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceBlue.png" Visibility="{Binding BluePiece2Visibility}" Canvas.Left="{Binding BluePiece2CoordinateX}" Canvas.Top="{Binding BluePiece2CoordinateY}"/>

            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceRed.png" Visibility="{Binding RedPiece3Visibility}" Canvas.Left="{Binding RedPiece3CoordinateX}" Canvas.Top="{Binding RedPiece3CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceGreen.png" Visibility="{Binding GreenPiece3Visibility}" Canvas.Left="{Binding GreenPiece3CoordinateX}" Canvas.Top="{Binding GreenPiece3CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceYellow.png" Visibility="{Binding YellowPiece3Visibility}" Canvas.Left="{Binding YellowPiece3CoordinateX}" Canvas.Top="{Binding YellowPiece3CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceBlue.png" Visibility="{Binding BluePiece3Visibility}" Canvas.Left="{Binding BluePiece3CoordinateX}" Canvas.Top="{Binding BluePiece3CoordinateY}"/>

            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceRed.png" Visibility="{Binding RedPiece4Visibility}" Canvas.Left="{Binding RedPiece4CoordinateX}" Canvas.Top="{Binding RedPiece4CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceGreen.png" Visibility="{Binding GreenPiece4Visibility}" Canvas.Left="{Binding GreenPiece4CoordinateX}" Canvas.Top="{Binding GreenPiece4CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceYellow.png" Visibility="{Binding YellowPiece4Visibility}" Canvas.Left="{Binding YellowPiece4CoordinateX}" Canvas.Top="{Binding YellowPiece4CoordinateY}"/>
            <Image Width="30" Height="30" Source="ms-appx:///Assets/PieceBlue.png" Visibility="{Binding BluePiece4Visibility}" Canvas.Left="{Binding BluePiece4CoordinateX}" Canvas.Top="{Binding BluePiece4CoordinateY}"/>

            <Button x:Name="DiceButton" 

                    Canvas.Left="138" Canvas.Top="250"
                    Command="{Binding RollDiceCommand}"
                    Background="Transparent"
                    Width="43"
                    Height="43"
                    Padding="0"
                    BorderThickness="0" VerticalAlignment="Top">

                <Button.RenderTransform>
                    <CompositeTransform/>
                </Button.RenderTransform>

                <Image Source="{Binding CurrentDiceImage}"
                        Stretch="UniformToFill">
                </Image>
            </Button>
        </Canvas>
    </Grid>
</Page>
