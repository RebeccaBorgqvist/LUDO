<Page
    x:Class="LUDO.Views.GameBoard"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:LUDO.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    xmlns:Interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:Core="using:Microsoft.Xaml.Interactions.Core"
    xmlns:Media="using:Microsoft.Xaml.Interactions.Media" 
    xmlns:xaml="using:Microsoft.Graphics.Canvas.UI.Xaml"

    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}"
    DataContext="{Binding GameBoardViewModelInstance}">

    <Page.Resources>
        <Storyboard x:Name="DiceRollStoryboard">
            <DoubleAnimation
                Storyboard.TargetName="DiceRotateTransform"
                Storyboard.TargetProperty="Angle"
                From="0" To="360" Duration="0:0:2"
                AutoReverse="False" RepeatBehavior="10x"/>
        </Storyboard>
        <Storyboard x:Name="RollDice">
            <DoubleAnimation Duration="00:00:10" Storyboard.TargetName="DiceButton" To="-16.5" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateX)"/>
            <DoubleAnimation Duration="00:00:10" Storyboard.TargetName="DiceButton" To="1.5" Storyboard.TargetProperty="(UIElement.RenderTransform).(CompositeTransform.TranslateY)"/>
        </Storyboard>
    </Page.Resources>

    <Grid>
        <Canvas VerticalAlignment="center" HorizontalAlignment="center" Width="452" Height="426" Background="LightGray">
            <xaml:CanvasControl x:Name="GameBoardCanvas" Width="452" Height="426">
                <xaml:CanvasControl.RenderTransform>
                    <CompositeTransform SkewX="0" TranslateX="0" SkewY="0" TranslateY="0"/>
                </xaml:CanvasControl.RenderTransform>
            </xaml:CanvasControl>
            <Image Width="20" Height="20" Source="ms-appx:///Assets/1.png" Canvas.Left="0" Canvas.Top="0"/>
            <Button x:Name="DiceButton" 

                    Canvas.Left="138" Canvas.Top="250"
                    Command="{Binding RollDiceCommand}"
                    Background="Transparent"
                    Width="43"
                    Height="43"
                    Padding="0"
                    BorderThickness="0" VerticalAlignment="Top">

                <Button.RenderTransform>
                    <CompositeTransform/>
                </Button.RenderTransform>

                <Image Source="{Binding CurrentDiceImage}"
                        Stretch="UniformToFill">
                </Image>
            </Button>
        </Canvas>
    </Grid>
</Page>